<html>
   <head>
      <script src = "https://cdn.firebase.com/js/client/2.4.2/firebase.js"></script>
      <script type = "text/javascript" src = "index.js"></script>
   </head>
	
   <body>
   	<button onclick = "googleSignin()">Google Signin</button>
    <button onclick = "googleSignout()">Google Signout</button>
    <script>
    function google_login_in(){
        var provider = new firebase.auth.GoogleAuthProvider(); 
        provider.addScope('https://www.googleapis.com/auth/plus.login');
        firebase.auth().signInWithPopup(provider).then(function(result) {
            var token = result.credential.accessToken;
            var user = result.user;
        }).catch(function(error) {
            var errorCode     = error.code;
            var errorMessage  = error.message;
            var email         = error.email;
            var credential    = error.credential;
        });         
    }

    function print_user(user) {
        user.providerData.forEach(function (profile) {
            console.log("Sign-in provider: "+profile.providerId);
            console.log("  Provider-specific UID: "+profile.uid);
            console.log("  Name: "+profile.displayName);
            console.log("  Email: "+profile.email);
            console.log("  Photo URL: "+profile.photoURL);
        });
    }

    firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
            print_user(user);
        } else {
            google_login_in();
        }
    });
    </script>
   <script>

    var config = {
    apiKey: "AIzaSyCwVipv75VqpU4SaVg5nE-938Q_wjSP_GQ",
    authDomain: "chat-9b188.firebaseapp.com",
    databaseURL: "https://chat-9b188.firebaseio.com",
    storageBucket: "chat-9b188.appspot.com",
    messagingSenderId: "64990406110"
  };
  firebase.initializeApp(config);
</script>


   </body>
	</html>